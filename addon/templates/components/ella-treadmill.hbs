<div
  class="
    ella-treadmill
    {{if this.resizing "is-resizing" "not-resizing"}}
    {{if this.scrolling "is-scrolling" "not-scrolling"}}
  "
  {{style
    position="relative"
    width="100%"
    display="flex"
    flex-wrap="wrap"
    align-content="flex-start"
    box-sizing="border-box"
    height=(if this.totalHeight (concat this.totalHeight this._rowUnit))
  }}

  data-scroll-top
  data-scroll-delta={{this.topDelta}}
  data-first-visible-index={{this.startingIndex}}
  data-visible-items={{this.numberOfVisibleItems}}

>
{{#each this.indices as |_ idx|}}
  <EllaTreadmillItem
    @parent={{this}}
    @index={{get this.visibleIndexes (concat "" idx)}}
    @item={{get this.visibleContent (concat "" idx)}}
    @height={{this._row}}
    @heightUnit={{this._rowUnit}}
    @columns={{this.columns}}
    @pageSize={{this.numberOfVisibleItems}}
    @fluctuate={{this.fluctuate}}
    @fluctuateColumn={{this.fluctuateColumn}}
    @on-insert={{action "listItemInserted"}}
    @on-update={{action "listItemUpdated"}}
    @on-destroy={{action "listItemDestroyed"}}
    {{!-- I don't think this is need. --}}
    {{!-- {{style webkit-overflow-scrolling="touch"}} --}}
    {{style pointer-events=(if this.scrolling "none" "inherit")}}

    as |item index|
  >
    {{#if (has-block)}}
      {{yield item index}}
    {{else}}
      {{get this.visibleContent (concat "" idx)}}
    {{/if}}
  </EllaTreadmillItem>
{{else}}
  {{yield to="inverse"}}
{{/each}}
</div>